
// import React
import axios from "axios";
import React from "react";
import { useState } from "react";
import { Routes, Route } from "react-router-dom";
import Content from "./Content";
import List from "./List";
import './App.css'
import Predict from "./Predict";

function App() {
  const [keys] = useState({
    "skin": [
      "dichromic _patches",
      "nodal_skin_eruptions",
      "skin_rash",
      "itching",
      "scaly skin",
      "redness",
      "blisters",
      "yellowish_skin",
      "family_history",
      "sweating",
      "red_spots_over_body",
      "swelled_lymph_nodes",
      "raised pink or red bumps",
      "crusts and scabs",
      "small fluid-filled blisters",
      "swollen glands",
      "toxic_look_(typhos)",
      "history_of_alcohol_consumption",
      "night sweats",
      "cold sweat",
      "bruising",
      "veins that are dark purple or blue",
      "itching around one or more of the veins",
      "changes in skin color around a varicose vein",
      "dry skin",
      "skin thinning",
      "pale skin",
      "blackheads",
      "pus_filled_pimples",
      "whiteheads",
      "large, solid, painful lumps under the skin",
      "small red, tender bumps",
      "spots, silver_like_dusting",
      "skin_peeling",
      "small scaling spots",
      "dry, cracked skin that may bleed or itch",
      "yellow_crust_ooze",
      "spiderlike blood vessels on your skin",
      "redness in the palms of the hands",
      "hives",
      "lumps under the skin",
      "spider angiomas",
      "easily bleeding",
      "itchy skin",
      "yellow discoloration in the skin and eyes (jaundice)",
      "sweating abnormalities",
    ],
    "stomach": [
      "acidity",
      "stomach_pain",
      "vomiting",
      "abdominal_pain",
      "indigestion",
      "stomach_internal_itching",
      "passage_of_gases",
      "heartburn",
      "diarrhea",
      "stomach cramps and pain",
      "constipation",
      "swollen glands",
      "persistent vomiting",
      "belly_pain",
      "stomach_bleeding",
      "distention_of_abdomen",
      "fluid_overload",
      "history_of_alcohol_consumption",
      "swelling_of_stomach",
      "pain_during_bowel_movements",
      "feeling bloated after eating",
      "feeling full after eating small amounts of food",
      "fluid accumulation in your abdomen (ascites)",
      "regurgitating food or saliva",
      "belching",
      "fluid retention",
      "abdominal discomfort",
      "an enlarged liver",
      "difficulty digesting food",
      "abdominal swelling",
      "upper abdominal pain",
      "increased thirst",
      "abdominal pain",
      "acute_liver_failure",
      "heartburn or abdominal pain",
    ],
    "nose": [
      "continuous_sneezing",
      "loss_of_smell",
      "runny_nose",
      "sinus_pressure",
      "stuffy nose",
      "irritation_in_anus",
      "red_sore_around_nose",
      "sneezing",
      "frequent nosebleeds",
      "severe nosebleeds",
    ],
    "eyes": [
      "yellowing_of_eyes",
      "blurred_and_distorted_vision",
      "sunken_eyes",
      "family_history",
      "visual_disturbances",
      "pain_behind_the_eyes",
      "redness_of_eyes",
      "whites of the eyes",
      "sluggish pupil reaction",
      "watery eyes",
      "closed eyes",
      "puffy_eyes",
      "yellow discoloration in the skin and eyes (jaundice)",
    ],
    "heart": [
      "irregular heartbeat",
      "rapid pulse",
      "weak pulse",
      "a rapid, weak pulse",
    ],
    "chest": [
      "chest_pain",
      "cough",
      "breathlessness",
      "family_history",
      "chest discomfort",
      "rapid breathing",
      "coughing for three or more weeks",
      "coughing up blood",
      "pain with breathing or coughing",
      "pressure, tightness, pain, or a squeezing or aching sensation in your chest or arms that may spread to your neck, jaw or back",
      "shortness of breath",
      "a new cough that does not go away",
      "coughing up blood",
      "severe shortness of breath",
      "chest pain that comes and goes",
      "coughing at night",
      "pneumonia",
      "wheezing when exhaling",
      "irregular breathing",
      "difficulty breathing",
      "difficult or rapid breathing",
      "wheezing",
    ],
    "throat and neck": [
      "difficulty swallowing",
      "sensation of a lump in your throat",
      "patches_in_throat",
      "swollen lymph glands, mainly on the neck",
      "dehydration",
      "changes to your voice",
      "pain in your neck and throat",
      "swollen lymph nodes in your neck",
      "congestion",
      "throat_irritation",
      "pressure, tightness, pain, or a squeezing or aching sensation in your chest or arms that may spread to your neck, jaw or back",
      "enlarged_thyroid",
      "hoarseness",
      "slurred_speech",
      "red tonsils",
      "swollen tonsils",
      "a hoarse or muffled voice",
      "pain in the throat",
      "a scratchy sensation in the throat",
      "inability to swallow",
      "sore throat",
      "scratchy throat",
      "shortness of breath",
      "increasing hoarseness",
      "sore throat and painful mouth sores",
    ],
    "activity": [
      "nausea",
      "extra_marital_contacts",
      "fatigue",
      "irregular_sugar_level",
      "lethargy",
      "restlessness",
      "slow-healing sores",
      "family_history",
      "dizziness",
      "lack_of_concentration",
      "loss_of_balance",
      "depression",
      "irritability",
      "frequent yawning",
      "mood changes",
      "difficulty walking",
      "weakness_of_one_body_side",
      "involuntary spasms or twitches",
      "general feeling of discomfort",
      "malaise",
      "tiredness",
      "coma",
      "sudden dizziness",
      "nervousness",
      "anxiety",
      "difficulty sleeping",
      "seizures",
      "painful_walking",
      "loss of flexibility",
      "movement_stiffness",
      "decreased range of motion",
      "spinning_movements",
      "unsteadiness",
      "loss of balance",
      "sudden numbness or weakness in the face, arm, or leg, especially on one side of the body",
      "body aches",
      "lightheadedness",
      "coma in severe case",
      "frequent infections",
      "trouble sleeping",
      "fainting",
      "exercise intolerance",
      "chronic fatigue",
      "weakness",
      "a drop in blood pressure",
      "receiving_blood_transfusion",
      "receiving_unsterile_injections",
      "tenderness",
    ],
    "weight and appetite": [
      "loss_of_appetite",
      "excessive_hunger",
      "obesity",
      "family_history",
      "weight_gain",
      "losing weight",
      "unintentional weight loss",
      "increased appetite",
      "weight_loss",
    ],
    "muscles and joints": [
      "swelling_joints",
      "muscle_wasting",
      "muscle aches and joint pain",
      "occasional muscle aches",
      "stiff_neck",
      "back_pain",
      "neck_pain",
      "weakness_in_limbs",
      "tingling in your arms",
      "numbness and weakness in your arms, hands, legs or feet",
      "stiffness",
      "muscle weakness",
      "muscle_pain",
      "joint_pain",
      "pressure, tightness, pain, or a squeezing or aching sensation in your chest or arms that may spread to your neck, jaw or back",
      "muscle aches, tenderness and stiffness",
      "hip_joint_pain",
      "knee_pain",
      "bone spurs",
      "warm red skin over the affected joint",
      "inflammation in and around the joints",
      "swollen and stiff joints",
      "bone pain",
      "achy and swollen joints",
    ],
    "urination": [
      "burning_micturition",
      "spotting_ urination",
      "polyuria",
      "dark_urine",
      "blood in your urine",
      "yellow_urine",
      "bladder_discomfort",
      "continuous_feel_of_urine",
      "foul_smell_of urine",
      "strong, persistent urge to urinate",
      "passing frequent, small amounts of urine",
      "urine that appears cloudy",
      "urine that appears red, bright pink or cola-colored, a sign of blood in the urine",
      "decreased urine output",
      "urinary problems",
      "frequent urination",
      "presence of ketones in the urine",
    ],
    "fever": [
      "high_fever",
      "low-grade fever",
      "mild_fever",
      "fever",
    ],
    "extremities": [
      "brittle_nails",
      "cold_hands_and_feets",
      "inflammatory_nails",
      "small_dents_in_nails",
      "thickened, pitted or ridged nails",
      "swelling in your feet",
      "swelling in your ankles (edema)",
      "severe pain_in_hand",
      "obvious deformity_in_hand",
      "numbness in your hand and fingers",
      "no response of limbs",
      "prominent_veins_on_calf",
      "swollen_blood_vessels_in_legs",
      "swollen_legs",
      "an achy or heavy feeling in the legs",
      "worsened pain after sitting or standing for a long time",
      "nausea",
      "swelling in your legs",
      "swelling",
    ],
    "mental issues": [
      "loss of consciousness",
      "confusion or changes in mental awareness",
      "impaired memory",
      "confusion",
      "disorientation",
      "difficulty with coordination",
      "memory loss",
      "difficulty finding words",
      "difficulty with planning",
      "difficulty with organizing",
      "difficulty with visual and spatial abilities",
      "trouble speaking",
      "trouble understanding",
      "trouble walking",
      "problems seeing",
      "inability to recognize",
      "depressed brainstem reflexes",
      "lack_of_concentration",
      "loss_of_balance",
    ],
    "head and face": [
      "headache",
      "thinning hair",
      "fine, brittle hair",
      "drying_and_tingling_lips",
      "tingling or numbness of the lips, tongue or cheek",
      "facial swelling",
      "ear pain",
      "puffy_face",
    ],
    "private parts": [
      "bloody_stool",
      "pain_in_anal_region",
      "abnormal_menstruation",
      "loss of menstrual periods",
      "sexual difficulties",
      "pale stool color",
    ],
    "senstitvity": [
      "chills",
      "shivering",
      "altered_sensorium",
      "shaking chills",
      "increased sensitivity to cold",
      "grating sensation",
      "anaphylaxis",
      "no response to painful stimuli",
      "no response of limbs",
      "cramps",
    ],
    "mouth": [
      "ulcers_on_tongue",
      "mucoid_sputum",
      "production of mucus",
      "blood_in_sputum",
      "phlegm",
      "rusty_sputum",
      "bleeding from the gums",
      "sore throat and painful mouth sores",
    ],
  });

  const [posts, setPosts] = useState({
    
      "a drop in blood pressure":0,
      "a hoarse or muffled voice":0,
      "a new cough that does not go away":0,
      "a rapid, weak pulse":0,
      "a scratchy sensation in the throat":0,
      "abdominal discomfort":0,
      "abdominal pain":0,
      "abdominal swelling":0,
      "abdominal_pain":0,
      "abnormal_menstruation":0,
      "achy and swollen joints":0,
      "acidity":0,
      "acute_liver_failure":0,
      "altered_sensorium":0,
      "an achy or heavy feeling in the legs":0,
      "an enlarged liver":0,
      "anaphylaxis":0,
      "anxiety":0,
      "back_pain":0,
      "belching":0,
      "belly_pain":0,
      "blackheads":0,
      "bladder_discomfort":0,
      "bleeding from the gums":0,
      "blisters":0,
      "blood in your urine":0,
      "blood_in_sputum":0,
      "bloody_stool":0,
      "blurred_and_distorted_vision":0,
      "body aches":0,
      "bone pain":0,
      "bone spurs":0,
      "breathlessness":0,
      "brittle_nails":0,
      "bruising":0,
      "burning_micturition":0,
      "changes in skin color around a varicose vein":0,
      "changes to your voice":0,
      "chest discomfort":0,
      "chest pain that comes and goes":0,
      "chest_pain":0,
      "chills":0,
      "chronic fatigue":0,
      "closed eyes":0,
      "cold sweat":0,
      "cold_hands_and_feets":0,
      "coma":0,
      "coma in severe case":0,
      "confusion":0,
      "confusion or changes in mental awareness":0,
      "congestion":0,
      "constipation":0,
      "continuous_feel_of_urine":0,
      "continuous_sneezing":0,
      "cough":0,
      "coughing at night":0,
      "coughing for three or more weeks":0,
      "coughing up blood":0,
      "cramps":0,
      "crusts and scabs":0,
      "dark_urine":0,
      "decreased range of motion":0,
      "decreased urine output":0,
      "dehydration":0,
      "depressed brainstem reflexes":0,
      "depression":0,
      "diarrhea":0,
      "dichromic _patches":0,
      "difficult or rapid breathing":0,
      "difficulty breathing":0,
      "difficulty digesting food":0,
      "difficulty finding words":0,
      "difficulty sleeping":0,
      "difficulty swallowing":0,
      "difficulty walking":0,
      "difficulty with coordination":0,
      "difficulty with organizing":0,
      "difficulty with planning":0,
      "difficulty with visual and spatial abilities":0,
      "disorientation":0,
      "distention_of_abdomen":0,
      "dizziness":0,
      "dry skin":0,
      "dry, cracked skin that may bleed or itch":0,
      "drying_and_tingling_lips":0,
      "ear pain":0,
      "easily bleeding":0,
      "enlarged_thyroid":0,
      "excessive_hunger":0,
      "exercise intolerance":0,
      "extra_marital_contacts":0,
      "facial swelling":0,
      "fainting":0,
      "family_history":0,
      "fatigue":0,
      "feeling bloated after eating":0,
      "feeling full after eating small amounts of food":0,
      "fever":0,
      "fine, brittle hair":0,
      "fluid accumulation in your abdomen (ascites)":0,
      "fluid retention":0,
      "fluid_overload":0,
      "foul_smell_of urine":0,
      "frequent infections":0,
      "frequent nosebleeds":0,
      "frequent urination":0,
      "frequent yawning":0,
      "general feeling of discomfort":0,
      "grating sensation":0,
      "headache":0,
      "heartburn":0,
      "heartburn or abdominal pain":0,
      "high_fever":0,
      "hip_joint_pain":0,
      "history_of_alcohol_consumption":0,
      "hives":0,
      "hoarseness":0,
      "impaired memory":0,
      "inability to recognize":0,
      "inability to swallow":0,
      "increased appetite":0,
      "increased sensitivity to cold":0,
      "increased thirst":0,
      "increasing hoarseness":0,
      "indigestion":0,
      "inflammation in and around the joints":0,
      "inflammatory_nails":0,
      "involuntary spasms or twitches":0,
      "irregular breathing":0,
      "irregular heartbeat":0,
      "irregular_sugar_level":0,
      "irritability":0,
      "irritation_in_anus":0,
      "itching":0,
      "itching around one or more of the veins":0,
      "itchy skin":0,
      "joint_pain":0,
      "knee_pain":0,
      "lack_of_concentration":0,
      "large, solid, painful lumps under the skin":0,
      "lethargy":0,
      "lightheadedness":0,
      "losing weight":0,
      "loss of balance":0,
      "loss of consciousness":0,
      "loss of flexibility":0,
      "loss of menstrual periods":0,
      "loss_of_appetite":0,
      "loss_of_balance":0,
      "loss_of_smell":0,
      "low-grade fever":0,
      "lumps under the skin":0,
      "malaise":0,
      "memory loss":0,
      "mild_fever":0,
      "mood changes":0,
      "movement_stiffness":0,
      "mucoid_sputum":0,
      "muscle aches and joint pain":0,
      "muscle aches, tenderness and stiffness":0,
      "muscle weakness":0,
      "muscle_pain":0,
      "muscle_wasting":0,
      "nausea":0,
      "neck_pain":0,
      "nervousness":0,
      "night sweats":0,
      "no response of limbs":0,
      "no response to painful stimuli":0,
      "nodal_skin_eruptions":0,
      "numbness and weakness in your arms, hands, legs or feet":0,
      "numbness in your hand and fingers":0,
      "obesity":0,
      "obvious deformity_in_hand":0,
      "occasional muscle aches":0,
      "pain in the throat":0,
      "pain in your neck and throat":0,
      "pain with breathing or coughing":0,
      "pain_behind_the_eyes":0,
      "pain_during_bowel_movements":0,
      "pain_in_anal_region":0,
      "painful_walking":0,
      "pale skin":0,
      "pale stool color":0,
      "passage_of_gases":0,
      "passing frequent, small amounts of urine":0,
      "patches_in_throat":0,
      "persistent vomiting":0,
      "phlegm":0,
      "pneumonia":0,
      "polyuria":0,
      "presence of ketones in the urine":0,
      "pressure, tightness, pain, or a squeezing or aching sensation in your chest or arms that may spread to your neck, jaw or back":0,
      "problems seeing":0,
      "production of mucus":0,
      "prominent_veins_on_calf":0,
      "puffy_eyes":0,
      "puffy_face":0,
      "pus_filled_pimples":0,
      "raised pink or red bumps":0,
      "rapid breathing":0,
      "rapid pulse":0,
      "receiving_blood_transfusion":0,
      "receiving_unsterile_injections":0,
      "red tonsils":0,
      "red_sore_around_nose":0,
      "red_spots_over_body":0,
      "redness":0,
      "redness in the palms of the hands":0,
      "redness_of_eyes":0,
      "regurgitating food or saliva":0,
      "restlessness":0,
      "runny_nose":0,
      "rusty_sputum":0,
      "scaly skin":0,
      "scratchy throat":0,
      "seizures":0,
      "sensation of a lump in your throat":0,
      "severe nosebleeds":0,
      "severe pain_in_hand":0,
      "severe shortness of breath":0,
      "sexual difficulties":0,
      "shaking chills":0,
      "shivering":0,
      "shortness of breath":0,
      "sinus_pressure":0,
      "skin redness":0,
      "skin thinning":0,
      "skin_peeling":0,
      "skin_rash":0,
      "slow-healing sores":0,
      "sluggish pupil reaction":0,
      "slurred_speech":0,
      "small fluid-filled blisters":0,
      "small red, tender bumps":0,
      "small scaling spots":0,
      "small_dents_in_nails":0,
      "sneezing":0,
      "sore throat":0,
      "sore throat and painful mouth sores":0,
      "spider angiomas":0,
      "spiderlike blood vessels on your skin":0,
      "spinning_movements":0,
      "spots, silver_like_dusting":0,
      "spotting_ urination":0,
      "stiff_neck":0,
      "stiffness":0,
      "stomach cramps and pain":0,
      "stomach_bleeding":0,
      "stomach_internal_itching":0,
      "stomach_pain":0,
      "strong, persistent urge to urinate":0,
      "stuffy nose":0,
      "sudden dizziness":0,
      "sudden numbness or weakness in the face, arm, or leg, especially on one side of the body":0,
      "sunken_eyes":0,
      "sweating":0,
      "sweating abnormalities":0,
      "swelled_lymph_nodes":0,
      "swelling":0,
      "swelling in your ankles (edema)":0,
      "swelling in your feet":0,
      "swelling in your legs":0,
      "swelling_joints":0,
      "swelling_of_stomach":0,
      "swollen and stiff joints":0,
      "swollen glands":0,
      "swollen lymph glands, mainly on the neck":0,
      "swollen lymph nodes in your neck":0,
      "swollen tonsils":0,
      "swollen_blood_vessels_in_legs":0,
      "swollen_legs":0,
      "tenderness":0,
      "thickened, pitted or ridged nails":0,
      "thinning hair":0,
      "throat_irritation":0,
      "tingling in your arms":0,
      "tingling or numbness of the lips, tongue or cheek":0,
      "tiredness":0,
      "toxic_look_(typhos)":0,
      "trouble sleeping":0,
      "trouble speaking":0,
      "trouble understanding":0,
      "trouble walking":0,
      "ulcers_on_tongue":0,
      "unintentional weight loss":0,
      "unsteadiness":0,
      "upper abdominal pain":0,
      "urinary problems":0,
      "urine that appears cloudy":0,
      "urine that appears red, bright pink or cola-colored, a sign of blood in the urine":0,
      "veins that are dark purple or blue":0,
      "visual_disturbances":0,
      "vomiting":0,
      "warm red skin over the affected joint":0,
      "watery eyes":0,
      "weak pulse":0,
      "weakness":0,
      "weakness_in_limbs":0,
      "weakness_of_one_body_side":0,
      "weight_gain":0,
      "weight_loss":0,
      "wheezing":0,
      "wheezing when exhaling":0,
      "whiteheads":0,
      "whites of the eyes":0,
      "worsened pain after sitting or standing for a long time":0,
      "yellow discoloration in the skin and eyes (jaundice)":0,
      "yellow_crust_ooze":0,
      "yellow_urine":0,
      "yellowing_of_eyes":0,
      "yellowish_skin":0,
  
  });

  const [prediction, setPridection] = useState('');

  const predictionHandle = () => {
    const baseURL =  'https://healthcare-management.herokuapp.com/predict/?symptoms=[' + Object.values(posts)+']';
    axios.get(baseURL).then((response) => {
      setPridection(response.data);
      console.log(response.data);
      // console.log(posts);
      
    }).catch(err=>console.log('err'))
  }

  const handleCheckbox = (status) => {
    // console.log(status.checked);
    
    //clone
    const clonePost = posts;
    //edit
    clonePost[`${status.value}`] = status.checked ? 1 : 0;
    //setState

    setPosts(clonePost);
    
    // console.log(clonePost);
  };
  const handleSubmit = (e) => {
    console.log("ok");
    // console.log(posts);
    
     console.log(Object.values(posts));
    e.preventDefault();
  };
  return (
    < div className="App"  style={{ backgroundColor: "#2f4766" /* '#cecbdb' */ }}>
      <Routes >
        <Route exact path="/*" element={<List keys={keys} />}>
          <Route
            exact
            path=":key"
            element={
              <Content
                keys={keys}
                onHandleCheckbox={handleCheckbox}
                onHandleSubmit={handleSubmit}
                predictionHandle={predictionHandle}
                prediction={prediction}
              />
            }
          />

        </Route>
        
          <Route
            exact
            path="/predict"
            element={
              <Predict
                keys={keys}
                onHandleCheckbox={handleCheckbox}
                onHandleSubmit={handleSubmit}
                predictionHandle={predictionHandle}
                prediction={prediction}
              />
            }
          />

        
      </Routes>
    </div>
  );
}

export default App;
